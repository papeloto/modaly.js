!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Modaly=t()}(this,function(){"use strict";function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===i&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".modaly-wrapper{position:fixed;top:0;left:0;visibility:visible;width:100vw;height:100vh;background:rgba(0,0,0,.6);opacity:1;transition:all 1s ease-in-out}.modaly-hidden{visibility:hidden;background:rgba(0,0,0,.6);opacity:0}"),function(){function t(e,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=Object.assign({},{escape:!0,overlay:!0,onShow:null,onHide:null},i);this.wrapper=document.querySelector(e),this.wrapper.classList.add("modaly-wrapper"),this.hide(),this.showCallback=a.onShow,this.hideCallback=a.onHide,document.querySelectorAll("[data-modaly-open='".concat(e,"']")).forEach(function(e){return e.addEventListener("click",function(){return n.show(e)})}),this.wrapper.querySelectorAll("[data-modaly-close]").forEach(function(e){return e.addEventListener("click",function(t){t.stopPropagation(),n.hide(e)})}),a.escape&&document.addEventListener("keyup",function(e){if(!e.defaultPrevented){var t=e.key||e.keyCode;"Escape"!==t&&"Esc"!==t&&27!==t||n.hide()}}),a.overlay&&this.wrapper.addEventListener("click",function(){n.hide()})}var i,n,a;return i=t,(n=[{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.showCallback&&this.showCallback(this.wrapper,e),this.wrapper.classList.remove("modaly-hidden")}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.hideCallback&&this.hideCallback(this.wrapper,e),this.wrapper.classList.add("modaly-hidden")}}])&&e(i.prototype,n),a&&e(i,a),t}()});
